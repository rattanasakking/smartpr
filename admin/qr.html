<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RETC QR Code Generator</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        :root {
            --primary: #4f46e5;
            --secondary: #06b6d4;
            --accent: #10b981;
            --surface: #ffffff;
            --text: #374151;
            --text-light: #64748b;
            --border: #e5e7eb;
            --shadow: rgba(0, 0, 0, 0.1);
        }
        html, body {
            height: 100%;
            font-family: 'Prompt', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            box-shadow: 0 25px 50px var(--shadow);
            padding: 32px;
            max-width: 480px;
            width: 100%;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .header {
            text-align: center;
            margin-bottom: 32px;
        }
        h1 {
            color: var(--primary);
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }
        .subtitle {
            color: var(--text-light);
            font-size: 16px;
            font-weight: 400;
        }
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--border);
            flex-wrap: wrap;
            overflow-x: auto;
            scrollbar-width: thin;
        }
        .tabs::-webkit-scrollbar {
            height: 4px;
        }
        .tabs::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }
        .tab {
            padding: 10px 16px;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--text-light);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px 8px 0 0;
            white-space: nowrap;
            font-family: inherit;
        }
        .tab:hover {
            color: var(--primary);
            background: rgba(79, 70, 229, 0.05);
        }
        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
            background: rgba(79, 70, 229, 0.08);
        }
        .tab-content {
            display: none;
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-10px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        .tab-content.active {
            display: block;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: var(--text);
            font-weight: 500;
            font-size: 14px;
        }
        input, select, textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 15px;
            font-weight: 400;
            transition: all 0.3s ease;
            background: var(--surface);
            font-family: inherit;
            color: var(--text);
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(79, 70, 229, 0.1);
        }
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        .generate-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 8px;
            font-family: inherit;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.2);
        }
        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
        }
        .generate-btn:active {
            transform: translateY(0);
        }
        .qr-result {
            display: none;
            text-align: center;
            margin-top: 32px;
            padding: 24px;
            background: linear-gradient(135deg, rgba(79, 70, 229, 0.05) 0%, rgba(6, 182, 212, 0.05) 100%);
            border-radius: 16px;
            border: 2px solid rgba(79, 70, 229, 0.1);
            animation: fadeIn 0.5s ease;
        }
        .qr-result.show {
            display: block;
        }
        #qrcode {
            display: inline-block;
            padding: 20px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 8px 25px var(--shadow);
        }
        .download-btn {
            margin: 24px auto 0;
            padding: 14px 32px;
            background: linear-gradient(135deg, var(--accent) 0%, #059669 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
        }
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }
        .wifi-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        .wifi-full {
            grid-column: 1 / -1;
        }
        @media (max-width: 768px) {
            .container {
                padding: 24px;
                max-width: 100%;
            }
            h1 {
                font-size: 28px;
            }
            .tabs {
                gap: 4px;
            }
            .tab {
                padding: 8px 12px;
                font-size: 13px;
            }
            .wifi-grid {
                grid-template-columns: 1fr;
            }
        }
        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            h1 {
                font-size: 24px;
            }
            .subtitle {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>RETC QR Code Generator</h1>
            <p class="subtitle">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code ‡∏ü‡∏£‡∏µ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤</p>
        </div>
        <div class="tabs">
            <button class="tab active" data-tab="url">üåê URL</button>
            <button class="tab" data-tab="text">üìù ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
            <button class="tab" data-tab="wifi">üì∂ Wi-Fi</button>
            <button class="tab" data-tab="vcard">üë§ vCard</button>
            <button class="tab" data-tab="email">üìß ‡∏≠‡∏µ‡πÄ‡∏°‡∏•</button>
            <button class="tab" data-tab="whatsapp">üíö WhatsApp</button>
            <button class="tab" data-tab="phone">üìû ‡πÇ‡∏ó‡∏£</button>
            <button class="tab" data-tab="sms">üí¨ SMS</button>
            <button class="tab" data-tab="line">üíö LINE</button>
            <button class="tab" data-tab="maps">üó∫Ô∏è Maps</button>
            <button class="tab" data-tab="payment">üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
        </div>
        <!-- URL Tab -->
        <div id="url-content" class="tab-content active">
            <form id="url-form">
                <div class="form-group">
                    <label for="url-input">URL ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</label>
                    <input type="url" id="url-input" placeholder="https://example.com" required>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- Text Tab -->
        <div id="text-content" class="tab-content">
            <form id="text-form">
                <div class="form-group">
                    <label for="text-input">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</label>
                    <textarea id="text-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" required></textarea>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- WiFi Tab -->
        <div id="wifi-content" class="tab-content">
            <form id="wifi-form">
                <div class="wifi-grid">
                    <div class="form-group wifi-full">
                        <label for="wifi-ssid">‡∏ä‡∏∑‡πà‡∏≠ WiFi (SSID)</label>
                        <input type="text" id="wifi-ssid" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢ WiFi" required>
                    </div>
                    <div class="form-group">
                        <label for="wifi-encryption">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™</label>
                        <select id="wifi-encryption">
                            <option value="WPA">WPA/WPA2</option>
                            <option value="WEP">WEP</option>
                            <option value="nopass">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="wifi-password">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
                        <input type="text" id="wifi-password" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô WiFi">
                    </div>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- vCard Tab -->
        <div id="vcard-content" class="tab-content">
            <form id="vcard-form">
                <div class="form-group">
                    <label for="vcard-name">üë§ ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                    <input type="text" id="vcard-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠ ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" required>
                </div>
                <div class="form-group">
                    <label for="vcard-phone">üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" id="vcard-phone" placeholder="08x-xxx-xxxx">
                </div>
                <div class="form-group">
                    <label for="vcard-email">üìß ‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                    <input type="email" id="vcard-email" placeholder="example@email.com">
                </div>
                <div class="form-group">
                    <label for="vcard-company">üè¢ ‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó/‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£</label>
                    <input type="text" id="vcard-company" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó">
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- Email Tab -->
        <div id="email-content" class="tab-content">
            <form id="email-form">
                <div class="form-group">
                    <label for="email-to">üìß ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö</label>
                    <input type="email" id="email-to" placeholder="recipient@email.com" required>
                </div>
                <div class="form-group">
                    <label for="email-subject">üìã ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠</label>
                    <input type="text" id="email-subject" placeholder="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏≠‡∏µ‡πÄ‡∏°‡∏•">
                </div>
                <div class="form-group">
                    <label for="email-body">‚úèÔ∏è ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</label>
                    <textarea id="email-body" placeholder="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏µ‡πÄ‡∏°‡∏•"></textarea>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- WhatsApp Tab -->
        <div id="whatsapp-content" class="tab-content">
            <form id="whatsapp-form">
                <div class="form-group">
                    <label for="whatsapp-phone">üíö ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" id="whatsapp-phone" placeholder="66812345678" required>
                </div>
                <div class="form-group">
                    <label for="whatsapp-message">üí¨ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)</label>
                    <textarea id="whatsapp-message" placeholder="‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö"></textarea>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- Phone Tab -->
        <div id="phone-content" class="tab-content">
            <form id="phone-form">
                <div class="form-group">
                    <label for="phone-number">üìû ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" id="phone-number" placeholder="08x-xxx-xxxx" required>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- SMS Tab -->
        <div id="sms-content" class="tab-content">
            <form id="sms-form">
                <div class="form-group">
                    <label for="sms-phone">üì± ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" id="sms-phone" placeholder="08x-xxx-xxxx" required>
                </div>
                <div class="form-group">
                    <label for="sms-message">üí¨ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</label>
                    <textarea id="sms-message" placeholder="‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á"></textarea>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- LINE Tab -->
        <div id="line-content" class="tab-content">
            <form id="line-form">
                <div class="form-group">
                    <label for="line-type">üíö ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó LINE</label>
                    <select id="line-type" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                        <option value="profile">‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå LINE</option>
                        <option value="official">LINE Official Account</option>
                        <option value="chat">‡πÅ‡∏ä‡∏ó LINE</option>
                    </select>
                </div>
                <div class="form-group" id="line-id-group" style="display: none;">
                    <label for="line-id">üÜî LINE ID</label>
                    <input type="text" id="line-id" placeholder="line_id">
                </div>
                <div class="form-group" id="line-url-group" style="display: none;">
                    <label for="line-url">üîó LINE URL</label>
                    <input type="url" id="line-url" placeholder="https://line.me/ti/p/...">
                </div>
                <div class="form-group" id="line-phone-group" style="display: none;">
                    <label for="line-phone">üì± ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label>
                    <input type="tel" id="line-phone" placeholder="0812345678">
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- Maps Tab -->
        <div id="maps-content" class="tab-content">
            <form id="maps-form">
                <div class="form-group">
                    <label for="maps-location">üó∫Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏Å‡∏±‡∏î</label>
                    <input type="text" id="maps-location" placeholder="Bangkok, Thailand ‡∏´‡∏£‡∏∑‡∏≠ 13.7563,100.5018" required>
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- Payment Tab -->
        <div id="payment-content" class="tab-content">
            <form id="payment-form">
                <div class="form-group">
                    <label for="payment-method">üí≥ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</label>
                    <select id="payment-method" required>
                        <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏≥‡∏£‡∏∞</option>
                        <option value="promptpay">PromptPay</option>
                        <option value="truemoney">TrueMoney</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="payment-id">üÜî ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ç‡∏ä‡∏µ/‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
                    <input type="text" id="payment-id" placeholder="0812345678" required>
                </div>
                <div class="form-group">
                    <label for="payment-amount">üí∞ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó)</label>
                    <input type="number" id="payment-amount" placeholder="100" min="1">
                </div>
                <button type="submit" class="generate-btn">‡∏™‡∏£‡πâ‡∏≤‡∏á QR Code</button>
            </form>
        </div>
        <!-- QR Result -->
        <div class="qr-result" id="qr-result">
            <div id="qrcode"></div>
            <button class="download-btn" id="download-btn">üì• ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î QR Code</button>
        </div>
    </div>
    <script>
        // Tab Switching
        const tabs = document.querySelectorAll('.tab');
        const tabContents = document.querySelectorAll('.tab-content');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const targetTab = tab.dataset.tab;
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(tc => tc.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(`${targetTab}-content`).classList.add('active');
                document.getElementById('qr-result').classList.remove('show');
            });
        });
        // QR Code Generation
        let currentQRCode = null;
        function generateQRCode(text) {
            const qrContainer = document.getElementById('qrcode');
            qrContainer.innerHTML = '';
            currentQRCode = new QRCode(qrContainer, {
                text: text,
                width: 256,
                height: 256,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
            document.getElementById('qr-result').classList.add('show');
        }
        // URL Form
        document.getElementById('url-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const url = document.getElementById('url-input').value;
            generateQRCode(url);
        });
        // Text Form
        document.getElementById('text-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const text = document.getElementById('text-input').value;
            generateQRCode(text);
        });
        // WiFi Form
        document.getElementById('wifi-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const ssid = document.getElementById('wifi-ssid').value;
            const encryption = document.getElementById('wifi-encryption').value;
            const password = document.getElementById('wifi-password').value;
            let wifiString = `WIFI:T:${encryption};S:${ssid};`;
            if (encryption !== 'nopass' && password) {
                wifiString += `P:${password};`;
            }
            wifiString += ';';
            generateQRCode(wifiString);
        });
        document.getElementById('wifi-encryption').addEventListener('change', (e) => {
            const passwordField = document.getElementById('wifi-password');
            if (e.target.value === 'nopass') {
                passwordField.disabled = true;
                passwordField.value = '';
                passwordField.placeholder = '‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô';
            } else {
                passwordField.disabled = false;
                passwordField.placeholder = '‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô WiFi';
            }
        });
        // vCard Form
        document.getElementById('vcard-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('vcard-name').value;
            const phone = document.getElementById('vcard-phone').value;
            const email = document.getElementById('vcard-email').value;
            const company = document.getElementById('vcard-company').value;
            let vcard = 'BEGIN:VCARD\nVERSION:3.0\n';
            vcard += `FN:${name}\n`;
            if (phone) vcard += `TEL:${phone}\n`;
            if (email) vcard += `EMAIL:${email}\n`;
            if (company) vcard += `ORG:${company}\n`;
            vcard += 'END:VCARD';
            generateQRCode(vcard);
        });
        // Email Form
        document.getElementById('email-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const to = document.getElementById('email-to').value;
            const subject = document.getElementById('email-subject').value;
            const body = document.getElementById('email-body').value;
            let emailString = `mailto:${to}`;
            const params = [];
            if (subject) params.push(`subject=${encodeURIComponent(subject)}`);
            if (body) params.push(`body=${encodeURIComponent(body)}`);
            if (params.length > 0) emailString += `?${params.join('&')}`;
            generateQRCode(emailString);
        });
        // WhatsApp Form
        document.getElementById('whatsapp-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const phone = document.getElementById('whatsapp-phone').value;
            const message = document.getElementById('whatsapp-message').value;
            let whatsappUrl = `https://wa.me/${phone}`;
            if (message) whatsappUrl += `?text=${encodeURIComponent(message)}`;
            generateQRCode(whatsappUrl);
        });
        // Phone Form
        document.getElementById('phone-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const phone = document.getElementById('phone-number').value;
            generateQRCode(`tel:${phone}`);
        });
        // SMS Form
        document.getElementById('sms-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const phone = document.getElementById('sms-phone').value;
            const message = document.getElementById('sms-message').value;
            let smsString = `sms:${phone}`;
            if (message) smsString += `?body=${encodeURIComponent(message)}`;
            generateQRCode(smsString);
        });
        // LINE Form
        document.getElementById('line-type').addEventListener('change', (e) => {
            const lineIdGroup = document.getElementById('line-id-group');
            const lineUrlGroup = document.getElementById('line-url-group');
            const linePhoneGroup = document.getElementById('line-phone-group');
            const lineIdInput = document.getElementById('line-id');
            const lineUrlInput = document.getElementById('line-url');
            const linePhoneInput = document.getElementById('line-phone');
            lineIdGroup.style.display = 'none';
            lineUrlGroup.style.display = 'none';
            linePhoneGroup.style.display = 'none';
            lineIdInput.required = false;
            lineUrlInput.required = false;
            linePhoneInput.required = false;
            if (e.target.value === 'profile') {
                lineIdGroup.style.display = 'block';
                lineIdInput.required = true;
            } else if (e.target.value === 'official') {
                lineUrlGroup.style.display = 'block';
                lineUrlInput.required = true;
            } else if (e.target.value === 'chat') {
                linePhoneGroup.style.display = 'block';
                linePhoneInput.required = true;
            }
        });
        document.getElementById('line-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const lineType = document.getElementById('line-type').value;
            const lineId = document.getElementById('line-id').value;
            const lineUrl = document.getElementById('line-url').value;
            const linePhone = document.getElementById('line-phone').value;
            let lineString = '';
            if (lineType === 'profile') {
                lineString = `https://line.me/ti/p/~${lineId}`;
            } else if (lineType === 'official') {
                lineString = lineUrl;
            } else if (lineType === 'chat') {
                lineString = `https://line.me/ti/p/${linePhone}`;
            }
            generateQRCode(lineString);
        });
        // Maps Form
        document.getElementById('maps-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const location = document.getElementById('maps-location').value;
            const mapsUrl = `https://maps.google.com/maps?q=${encodeURIComponent(location)}`;
            generateQRCode(mapsUrl);
        });
        // Payment Form
        document.getElementById('payment-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const method = document.getElementById('payment-method').value;
            const id = document.getElementById('payment-id').value;
            const amount = document.getElementById('payment-amount').value;
            let paymentText = `‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏ú‡πà‡∏≤‡∏ô ${method.toUpperCase()}\n‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç: ${id}`;
            if (amount) paymentText += `\n‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: ${amount} ‡∏ö‡∏≤‡∏ó`;
            generateQRCode(paymentText);
        });
        // Download Button
        document.getElementById('download-btn').addEventListener('click', () => {
            const canvas = document.querySelector('#qrcode canvas');
            if (canvas) {
                const now = new Date();
                const timestamp = now.toISOString().slice(0, 19).replace(/[:-]/g, '').replace('T', '_');
                const filename = `QRCode_${timestamp}.png`;
                const newCanvas = document.createElement('canvas');
                const ctx = newCanvas.getContext('2d');
                newCanvas.width = canvas.width;
                newCanvas.height = canvas.height;
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(0, 0, newCanvas.width, newCanvas.height);
                ctx.drawImage(canvas, 0, 0);
                const link = document.createElement('a');
                link.download = filename;
                link.href = newCanvas.toDataURL('image/png', 1.0);
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                const downloadBtn = document.getElementById('download-btn');
                const originalText = downloadBtn.textContent;
                downloadBtn.textContent = '‚úì ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß!';
                downloadBtn.style.background = 'linear-gradient(135deg, #28a745 0%, #20c997 100%)';
                setTimeout(() => {
                    downloadBtn.textContent = originalText;
                    downloadBtn.style.background = 'linear-gradient(135deg, var(--accent) 0%, #059669 100%)';
                }, 2000);
            }
        });
    </script>
</body>
</html>